
test_plan:
  test_suite: GetListProductCategory
  testcase: |
    # BASE CASE
    - id: AC_OFAT_00
      title: "[BASE]<Case c∆° s·ªü h·ª£p l·ªá>"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected: "Validation Passed. DTO ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng v·ªõi c√°c gi√° tr·ªã ƒë√£ ƒë∆∞·ª£c chu·∫©n ho√° (n·∫øu c√≥)."
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - productCategoryName
    - id: AC_OFAT_01
      title: "[productCategoryName]Sai ki·ªÉu d·ªØ li·ªáu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: 123
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: invalid_type, message: "Tr∆∞·ªùng productCategoryName sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_02
      title: "[productCategoryName]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: null
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: null_not_allowed, message: "Tr∆∞·ªùng productCategoryName kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_03
      title: "[productCategoryName]Chu·ªói r·ªóng/blank"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: ""
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: empty_or_blank, message: "Tr∆∞·ªùng productCategoryName kh√¥ng ƒë∆∞·ª£c r·ªóng ho·∫∑c ch·ªâ ch·ª©a kho·∫£ng tr·∫Øng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_04
      title: "[productCategoryName]Ch·ª©a k√Ω t·ª± Punctuation (IV-P)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "iPhone!"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: pattern_mismatch, message: "Gi√° tr·ªã c·ªßa productCategoryName kh√¥ng kh·ªõp ƒë·ªãnh d·∫°ng y√™u c·∫ßu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_05
      title: "[productCategoryName]Ch·ª©a k√Ω t·ª± Symbol/emoji (IV-S)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "üòÉ"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: pattern_mismatch, message: "Gi√° tr·ªã c·ªßa productCategoryName kh√¥ng kh·ªõp ƒë·ªãnh d·∫°ng y√™u c·∫ßu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_06
      title: "[productCategoryName]Ch·ª©a Control/Mark ngo√†i whitelist (IV-C/Z/M)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "A\u0007B"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryName, code: whitespace_violation, message: "Gi√° tr·ªã c·ªßa productCategoryName vi ph·∫°m ch√≠nh s√°ch kho·∫£ng tr·∫Øng/k√Ω t·ª± ƒëi·ªÅu khi·ªÉn."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_07
      title: "[productCategoryName]Vi ph·∫°m policy kho·∫£ng tr·∫Øng (whitespace)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: " ƒêi·ªán tho·∫°i 123 "
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected: "Validation Passed. DTO c√≥ 'productCategoryName' ƒë∆∞·ª£c trim th√†nh 'ƒêi·ªán tho·∫°i 123'."
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_08
      title: "[productCategoryName]Sai chu·∫©n ho√° Unicode (EP-UNICODE-NORM)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "Cafe\u0301"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected: "Validation Passed. DTO c√≥ 'productCategoryName' ƒë∆∞·ª£c chu·∫©n ho√° th√†nh 'Caf√©'."
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - activeStatuses
    - id: AC_OFAT_09
      title: "[activeStatuses]Sai ki·ªÉu d·ªØ li·ªáu (kh√¥ng ph·∫£i m·∫£ng)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: "1"
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: array_expected, message: "Tr∆∞·ªùng activeStatuses ph·∫£i l√† m·∫£ng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_10
      title: "[activeStatuses]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: null
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: null_not_allowed, message: "Tr∆∞·ªùng activeStatuses kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_11
      title: "[activeStatuses]Ph·∫ßn t·ª≠ sai ki·ªÉu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: ["1", true]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: array_element_invalid_type, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong activeStatuses sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_12
      title: "[activeStatuses]Ph·∫ßn t·ª≠ ngo√†i {0,1}"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [2]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: array_element_invalid_value, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong activeStatuses c√≥ gi√° tr·ªã kh√¥ng h·ª£p l·ªá."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_13
      title: "[activeStatuses]Tr√πng ph·∫ßn t·ª≠"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1, 1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: duplicate_items, message: "C√°c ph·∫ßn t·ª≠ trong activeStatuses b·ªã tr√πng l·∫∑p (y√™u c·∫ßu duy nh·∫•t)."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_14
      title: "[activeStatuses]Tr√πng key (duplicate_param)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: activeStatuses, code: duplicate_parameter, message: "Tham s·ªë activeStatuses b·ªã tr√πng l·∫∑p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - productCategoryAncestors
    - id: AC_OFAT_15
      title: "[productCategoryAncestors]Sai ki·ªÉu d·ªØ li·ªáu (kh√¥ng ph·∫£i m·∫£ng)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: "1"
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: array_expected, message: "Tr∆∞·ªùng productCategoryAncestors ph·∫£i l√† m·∫£ng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_16
      title: "[productCategoryAncestors]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: null
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: null_not_allowed, message: "Tr∆∞·ªùng productCategoryAncestors kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_17
      title: "[productCategoryAncestors]Ph·∫ßn t·ª≠ sai ki·ªÉu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1, "abc"]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: array_element_invalid_type, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong productCategoryAncestors sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_18
      title: "[productCategoryAncestors]Ph·∫ßn t·ª≠ gi√° tr·ªã kh√¥ng h·ª£p l·ªá"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1, "abc"]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: array_element_invalid_type, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong productCategoryAncestors sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_19
      title: "[productCategoryAncestors]Tr√πng ph·∫ßn t·ª≠"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1, 1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: duplicate_items, message: "C√°c ph·∫ßn t·ª≠ trong productCategoryAncestors b·ªã tr√πng l·∫∑p (y√™u c·∫ßu duy nh·∫•t)."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_20
      title: "[productCategoryAncestors]V∆∞·ª£t gi·ªõi h·∫°n ƒë·ªô d√†i m·∫£ng (>9999)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: "{{array_length_10000}}"
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: item_count_out_of_range, message: "S·ªë ph·∫ßn t·ª≠ c·ªßa productCategoryAncestors ngo√†i gi·ªõi h·∫°n cho ph√©p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_21
      title: "[productCategoryAncestors]ID kh√¥ng t·ªìn t·∫°i (invalid_reference)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [999999]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: array_element_invalid_value, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong productCategoryAncestors c√≥ gi√° tr·ªã kh√¥ng h·ª£p l·ªá."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_22
      title: "[productCategoryAncestors]ID sai state/scope/tenant"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [123]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: productCategoryAncestors, code: array_element_invalid_value, message: "M·ªôt ho·∫∑c nhi·ªÅu ph·∫ßn t·ª≠ trong productCategoryAncestors c√≥ gi√° tr·ªã kh√¥ng h·ª£p l·ªá."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - tenantId
    - id: AC_OFAT_23
      title: "[tenantId]Thi·∫øu field (missing)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: tenantId, code: missing, message: "Tr∆∞·ªùng tenantId l√† tr∆∞·ªùng b·∫Øt bu·ªôc."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_24
      title: "[tenantId]Sai ki·ªÉu d·ªØ li·ªáu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: "12"
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: tenantId, code: invalid_type, message: "Tr∆∞·ªùng tenantId sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_25
      title: "[tenantId]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: null
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: tenantId, code: null_not_allowed, message: "Tr∆∞·ªùng tenantId kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_26
      title: "[tenantId]Chu·ªói r·ªóng/blank"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: ""
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: tenantId, code: empty_or_blank, message: "Tr∆∞·ªùng tenantId kh√¥ng ƒë∆∞·ª£c r·ªóng ho·∫∑c ch·ªâ ch·ª©a kho·∫£ng tr·∫Øng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_27
      title: "[tenantId]Sai scope/tenant hi·ªán t·∫°i (forbidden processing)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: "{{tenant_id_other}}"
        page: 1
        size: 20
      expected:
        status: 403
        code: PERMISSION_DENIED
        title: "Access Denied"
        detail: "B·∫°n kh√¥ng c√≥ quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông n√†y."
        errors: []
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_28
      title: "[tenantId]Tr√πng key (duplicate_param)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: tenantId, code: duplicate_parameter, message: "Tham s·ªë tenantId b·ªã tr√πng l·∫∑p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - page
    - id: AC_OFAT_29
      title: "[page]Sai ki·ªÉu d·ªØ li·ªáu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: "2"
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: page, code: invalid_type, message: "Tr∆∞·ªùng page sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_30
      title: "[page]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: null
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: page, code: null_not_allowed, message: "Tr∆∞·ªùng page kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_31
      title: "[page]Chu·ªói r·ªóng/blank"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: ""
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: page, code: empty_or_blank, message: "Tr∆∞·ªùng page kh√¥ng ƒë∆∞·ª£c r·ªóng ho·∫∑c ch·ªâ ch·ª©a kho·∫£ng tr·∫Øng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_32
      title: "[page]Ngo√†i kho·∫£ng [1,1000]"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 0
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: page, code: out_of_range, message: "Gi√° tr·ªã c·ªßa page n·∫±m ngo√†i ph·∫°m vi cho ph√©p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_33
      title: "[page]Tr√πng key (duplicate_param)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: page, code: duplicate_parameter, message: "Tham s·ªë page b·ªã tr√πng l·∫∑p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # OFAT TESTS - size
    - id: AC_OFAT_34
      title: "[size]Sai ki·ªÉu d·ªØ li·ªáu"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: "10"
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: size, code: invalid_type, message: "Tr∆∞·ªùng size sai ki·ªÉu d·ªØ li·ªáu."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_35
      title: "[size]Null"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: null
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: size, code: null_not_allowed, message: "Tr∆∞·ªùng size kh√¥ng ƒë∆∞·ª£c ph√©p l√† null."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_36
      title: "[size]Chu·ªói r·ªóng/blank"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: ""
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: size, code: empty_or_blank, message: "Tr∆∞·ªùng size kh√¥ng ƒë∆∞·ª£c r·ªóng ho·∫∑c ch·ªâ ch·ª©a kho·∫£ng tr·∫Øng."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_37
      title: "[size]Ngo√†i kho·∫£ng [1,500]"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 0
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: size, code: out_of_range, message: "Gi√° tr·ªã c·ªßa size n·∫±m ngo√†i ph·∫°m vi cho ph√©p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    - id: AC_OFAT_38
      title: "[size]Tr√πng key (duplicate_param)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        status: 422
        code: VALIDATION_ERROR
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        errors: [{field: size, code: duplicate_parameter, message: "Tham s·ªë size b·ªã tr√πng l·∫∑p."}]
      layer: contract
      type: UTRequest
      test_class: GetListProductCategoryRequest

    # PAIRWISE TESTS
    - id: AC_Pairwise_01
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        tenantId: 11
        page: 2
        size: 10
      expected:
        total: <count_theo_seed_data>
        page: 2
        size: 10
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_02
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_03
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_04
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        productCategoryAncestors: [1, 2]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_05
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_06
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: []
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_07
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: []
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_08
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: []
        productCategoryAncestors: [1, 2]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_09
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: 0}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_10
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0]
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: 0}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_11
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: 0}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_12
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0]
        productCategoryAncestors: [1, 2]
        tenantId: 11
        page: 1
        size: 20
      expected: "1. (Interface Rule): repo.find() ƒë∆∞·ª£c g·ªçi v·ªõi DTO ch·ª©a (name, [0], [1,2]). 2. (Mapping Rule): Response DTO tr·∫£ v·ªÅ c√≥ c·∫•u tr√∫c: {total: ..., page: 1, size: 20, productCategories: [{productCategoryId: <id>, productCategoryName: '...', productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: '<name_or_null>', creatorName: '...', createdAt: '<timestamp>', activeStatus: 0}, ...]}"
      layer: application
      type: UTQueryHandler
      test_class: GetListProductCategoryQueryHandler

    - id: AC_Pairwise_13
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        tenantId: 11
        page: 1
        size: 20
      expected: "1. (Interface Rule): repo.find() ƒë∆∞·ª£c g·ªçi v·ªõi DTO ch·ª©a (name, [1]). 2. (Mapping Rule): Response DTO tr·∫£ v·ªÅ c√≥ c·∫•u tr√∫c: {total: ..., page: 1, size: 20, productCategories: [{productCategoryId: <id>, productCategoryName: '...', productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: '<name_or_null>', creatorName: '...', createdAt: '<timestamp>', activeStatus: 1}, ...]}"
      layer: application
      type: UTQueryHandler
      test_class: GetListProductCategoryQueryHandler

    - id: AC_Pairwise_14
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: 1}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_15
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: 1}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_16
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1, 2]
        tenantId: 11
        page: 1
        size: 20
      expected: "(Integration Rule) Handler g·ªçi repo th·∫≠t. (Data Mapping Rule): Output DTO c√≥ c·∫•u tr√∫c: {total: ..., page: 1, size: 20, productCategories: [{productCategoryId: <id>, productCategoryName: '...', productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: '<name_or_null>', creatorName: '...', createdAt: '<timestamp>', activeStatus: 1}, ...]}"
      layer: application
      type: ITQueryHandler
      test_class: GetListProductCategoryQueryHandler

    - id: AC_Pairwise_17
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0, 1]
        tenantId: 11
        page: 1
        size: 20
      expected: "(Integration Rule) Handler g·ªçi repo th·∫≠t. (Data Mapping Rule): Output DTO c√≥ c·∫•u tr√∫c: {total: ..., page: 1, size: 20, productCategories: [{productCategoryId: <id>, productCategoryName: '...', productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: '<name_or_null>', creatorName: '...', createdAt: '<timestamp>', activeStatus: <0_or_1>}, ...]}"
      layer: application
      type: ITQueryHandler
      test_class: GetListProductCategoryQueryHandler

    - id: AC_Pairwise_18
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0, 1]
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_19
      title: "Pairwise: activeStatuses √ó productCategoryAncestors"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0, 1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_theo_seed_data>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    - id: AC_Pairwise_20
      title: "Pairwise: activeStatuses √ó productCategoryAncestors (ch·ªçn case 'kh√¥ng d·ªØ li·ªáu' ·ªü expected)"
      key_factors: [productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [0, 1]
        productCategoryAncestors: [1, 2]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: 0
        page: 1
        size: 20
        items: []
      layer: outboundDB
      type: ITQueryRepository
      test_class: GetListProductCategoryQueryRepository

    # E2E TESTS
    - id: AC_E2E_01
      title: "[E2E-Happy path (c√≥ data)]Truy v·∫•n danh m·ª•c theo t√™n + tr·∫°ng th√°i + ancestor"
      key_factors: [auth, productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        auth:
          access_token: "{{token_valid}}"
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1, 0]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: <count_gt_0>
        page: 1
        size: 20
        items: [{productCategoryId: <id>, productCategoryName: <name>, productCategoryParentId: <id_or_null>, productCategoryGrandParentId: <id_or_null>, productCategoryGrandParentName: <name_or_null>, creatorName: <name>, createdAt: <timestamp>, activeStatus: <0_or_1>}]
      layer: contract
      type: E2E
      test_class: GetListProductCategoryE2E

    - id: AC_E2E_02
      title: "[E2E-Happy path (kh√¥ng data)]T√¨m v·ªõi ƒëi·ªÅu ki·ªán h·ª£p l·ªá nh∆∞ng kh√¥ng kh·ªõp"
      key_factors: [auth, productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        auth:
          access_token: "{{token_valid}}"
        productCategoryName: "T√™n danh m·ª•c kh√¥ng t·ªìn t·∫°i XYZ"
        activeStatuses: []
        productCategoryAncestors: []
        tenantId: 11
        page: 1
        size: 20
      expected:
        total: 0
        page: 1
        size: 20
        items: []
      layer: contract
      type: E2E
      test_class: GetListProductCategoryE2E

    - id: AC_E2E_03
      title: "[E2E-Validation 422]Input sai ƒë·ªãnh d·∫°ng"
      key_factors: [auth, productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        auth:
          access_token: "{{token_valid}}"
        productCategoryName: ""
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        type: "about:blank"
        status: 422
        code: "VALIDATION_ERROR"
        title: "Validation Failed"
        detail: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
        instance: "<request_path>"
        traceId: "<traceId>"
        errors: [{field: "productCategoryName", code: "empty_or_blank", message: "Tr∆∞·ªùng productCategoryName kh√¥ng ƒë∆∞·ª£c r·ªóng ho·∫∑c ch·ªâ ch·ª©a kho·∫£ng tr·∫Øng."}]
      layer: contract
      type: E2E
      test_class: GetListProductCategoryE2E

    - id: AC_E2E_04
      title: "[E2E-Unauthorized 401]Kh√¥ng ƒëƒÉng nh·∫≠p/Token kh√¥ng h·ª£p l·ªá"
      key_factors: [auth, productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        auth:
          access_token: null
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        type: "about:blank"
        status: 401
        code: "AUTH_INVALID_TOKEN"
        title: "Authentication Required"
        detail: "Token x√°c th·ª±c kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n."
        instance: "<request_path>"
        traceId: "<traceId>"
        errors: []
      layer: contract
      type: E2E
      test_class: GetListProductCategoryE2E

    - id: AC_E2E_05
      title: "[E2E-Forbidden 403]ƒêƒÉng nh·∫≠p kh√¥ng ƒë·ªß quy·ªÅn/sai scope"
      key_factors: [auth, productCategoryName, activeStatuses, productCategoryAncestors, tenantId, page, size]
      input:
        auth:
          access_token: "{{token_no_scope}}"
        productCategoryName: "ƒêi·ªán tho·∫°i 123"
        activeStatuses: [1]
        productCategoryAncestors: [1]
        tenantId: 11
        page: 1
        size: 20
      expected:
        type: "about:blank"
        status: 403
        code: "PERMISSION_DENIED"
        title: "Access Denied"
        detail: "B·∫°n kh√¥ng c√≥ quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông n√†y."
        instance: "<request_path>"
        traceId: "<traceId>"
        errors: []
      layer: contract
      type: E2E
      test_class: GetListProductCategoryE2E